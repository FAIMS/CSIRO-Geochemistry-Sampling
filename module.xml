<!--@POSTPROC: ./postproc.sh-->
<module>

<rels>
  <RelationshipElement name="Water Sample pH" type="bidirectional">
    <description>Implements a 1:N relationship between Water Samples and pH</description>
  </RelationshipElement>
  <RelationshipElement name="Water Sample Eh" type="bidirectional">
    <description>Implements a 1:N relationship between Water Samples and Eh</description>
  </RelationshipElement>
</rels>

<Logo f="nodata">
  <Logo_Tab f="noscroll">
    <CSIRO_Logo f="nolabel" t="webview">
      <markdown>
![](files/data/CSIRO_Grad_RGB_hr.jpg)

This module was generated by the FAIMS Team for CSIRO, Nathan Reid and Jens Klump and is distributed under a GPL v3 license.
      </markdown>
    </CSIRO_Logo>
    <Login l="User"/>
  </Logo_Tab>
</Logo>

<User f="nodata">
  <User f="noscroll">
    <Users t="list" f="user" l="Project"/>
  </User>
</User>

<Project f="nodata">
  <Start>
    <author f="readonly"/>
    <Station_Deposit f="persist">
      Station/Deposit
    </Station_Deposit>
    <Project f="persist"/>
    <Area f="persist"/>
    <Sample_Type>
      <opts>
        <opt>Water Sample</opt>
        <opt>Plant Sample</opt>
        <opt>Soil Sample</opt>
        <opt>Rock Sample</opt>
      </opts>
    </Sample_Type>
    <cols>
      <!--TODO: Length constraints, range constraints-->
      <Sample_Prefix_1 f="persist"/>
      <Sample_Prefix_2 f="persist"/>
      <Sample_Starting_ID b="decimal">
        Next Sample ID
        <!--This is used as the autonumbering field, with the help of
             autogenerated code-->
      </Sample_Starting_ID>
    </cols>
    <Print_Label t="button">
      <!--TODO: -->
    </Print_Label>
    <Create_New_Sample t="button"/>
    <GPS_Status t="gpsdiag"/>
    <Check_for_Duplicates t="button"/>
    <Duplicate_ID_List t="list" c="fixedheightfive"/>
  </Start>
  <Sample_ID_Ranges>
    <Minimum_Sample_ID b="decimal" f="persist"/>
    <Maximum_Sampke_ID b="decimal" f="persist"/>
  </Sample_ID_Ranges>
  <search/>
  <Map f="noscroll">
    <Map f="nolabel" t="map"/>
    <Create_Shape l="Shape"/>
  </Map>
  <Vars f="hidden nowire">
    <!--Generates autonumering code, which we'll modify in the logic-->
    <autonum/>
    <!--Generates functions to create new arch ents, which will call in the
         logic-->
    <New_Water_Sample l="Water_Sample"/>
    <New_Plant_Sample l="Plant_Sample"/>
    <New_Soil_Sample  l="Soil_Sample"/>
    <New_Rock_Sample  l="Rock_Sample"/>
  </Vars>
</Project>

<Water_Sample>
  <fmt>{{Sample_Prefix_1}}{{Sample_Prefix_2}}{{Water_Sample_ID}} - Water - {{Timestamp}}</fmt>
  <Basic_Info>
    <cols>
      <Sample_Prefix_1 f="readonly" i="Project/Start/Sample_Prefix_1"/>
      <Sample_Prefix_2 f="readonly" i="Project/Start/Sample_Prefix_2"/>
      <Water_Sample_ID f="autonum readonly"/>
    </cols>
    <!--@SOURCE: fields/std-meta.xml-->
    <Site_Name/>
    <!--@SOURCE: fields/std-dynamic.xml-->
    <!--@SOURCE: fields/std-gis.xml-->
    <Water_Table/>
    <Sample_Depth/>
    <Bottom_Of_Hole/>
    <Samples_Collected t="checkbox">
      <opts>
        <opt>Cations</opt>
        <opt>Anions</opt>
        <opt>Alkalinity</opt>
        <opt>Carbon (1L)</opt>
      </opts>
    </Samples_Collected>
    <!--@SOURCE: fields/std-bottom.xml-->
  </Basic_Info>
  <Codes>
    <Hole_Type>
      <opts>
        <opt>Still Bore (Bailed)</opt>
        <opt>Still Well (Bailed)</opt>
        <opt>Flowing Bore</opt>
        <opt>Flowing Well</opt>
        <opt>Other</opt>
      </opts>
    </Hole_Type>
    <Hole_Lining>
      <opts>
        <opt>Metal</opt>
        <opt>Rusty</opt>
        <opt>Poly pipe/plastic</opt>
        <opt>Cement</opt>
        <opt>Wood</opt>
        <opt>Dirt</opt>
        <opt>Other</opt>
      </opts>
    </Hole_Lining>
    <Hole_Open_Closed t="radio">
      Hole Open/Closed
      <opts>
        <opt>No Observation</opt>
        <opt>Open/uncovered</opt>
        <opt>Closed/covered</opt>
      </opts>
    </Hole_Open_Closed>
    <Pipes_In_Hole>
      <opts>
        <opt>Metal Pipes</opt>
        <opt>Poly Pipes</opt>
        <opt>Fibreglass Pipes</opt>
        <opt>No pipes/clear</opt>
        <opt>Other</opt>
      </opts>
    </Pipes_In_Hole>
    <cols>
      <Hole_Angle>
        <opts>
          <opt>Vertical</opt>
          <opt>Angled</opt>
          <opt>Other</opt>
        </opts>
      </Hole_Angle>
      <Estimated_Angle b="decimal"/>
    </cols>
    <Outflow_Present t="radio">
      <!--@SOURCE: vocabs/boolean.xml-->
    </Outflow_Present>
    <Sampling_Issues>
      <opts>
        <opt>Sampled from outflow of tank</opt>
        <opt>Bailed from a flowing windmill (access issues, no wind etc.)</opt>
        <opt>Pumped</opt>
        <opt>Other</opt>
      </opts>
    </Sampling_Issues>
  </Codes>
  <pH_Eh>
    pH/Eh
    <cols>
      <Temperature  f="notnull"/>
      <Conductivity f="notnull"/>
    </cols>
    <cols>
      <col>
        <Preferred_pH f="readonly"/>
        <Preferred_pH_Time f="nodata readonly"/>
        <addNewpHText t="webview" f="nolabel">
          <markdown>pH</markdown>
        </addNewpHText>
      </col>
      <col>
        <Preferred_Eh f="readonly"/>
        <Preferred_Eh_Time f="nodata readonly"/>
        <addNewEhText t="webview" f="nolabel">
          <markdown>Eh (mV)</markdown>
        </addNewEhText>
      </col>
    </cols>
  </pH_Eh>
  <!--@SOURCE: tabs/child-photologs.xml-->
  <Hidden f="hidden nowire">
    <Preferred_pH_Time/>
    <Preferred_Eh_Time/>
  </Hidden>
  <!--@SOURCE: tabs/vars.xml-->
</Water_Sample>

<Plant_Sample>
  <fmt>{{Sample_Prefix_1}}{{Sample_Prefix_2}}{{Plant_Sample_ID}} - Plant - {{Timestamp}}</fmt>
  <Basic_Info>
    <cols>
      <Sample_Prefix_1 f="readonly" i="Project/Start/Sample_Prefix_1"/>
      <Sample_Prefix_2 f="readonly" i="Project/Start/Sample_Prefix_2"/>
      <Plant_Sample_ID f="autonum readonly"/>
    </cols>
    <!--@SOURCE: fields/std-meta.xml-->
    <!--@SOURCE: fields/std-dynamic.xml-->
    <Plant_Species/>
    <!--@SOURCE: fields/std-gis.xml-->
    <cols>
      <Plant_Height b="decimal"/>
      <Plant_Width  b="decimal"/>
    </cols>
    <Soil_Description t="checkbox">
      <!--@SOURCE: vocabs/soil-adjective.xml-->
    </Soil_Description>
    <Landform_Description/>
    <!--@SOURCE: fields/std-bottom.xml-->
  </Basic_Info>
  <!--@SOURCE: tabs/child-photologs.xml-->
  <!--@SOURCE: tabs/vars.xml-->
</Plant_Sample>

<Soil_Sample>
  <fmt>{{Sample_Prefix_1}}{{Sample_Prefix_2}}{{Soil_Sample_ID}} - Soil - {{Timestamp}}</fmt>
  <Basic_Info>
    <cols>
      <Sample_Prefix_1 f="readonly" i="Project/Start/Sample_Prefix_1"/>
      <Sample_Prefix_2 f="readonly" i="Project/Start/Sample_Prefix_2"/>
      <Soil_Sample_ID f="autonum readonly"/>
    </cols>
    <!--@SOURCE: fields/std-meta.xml-->
    <!--@SOURCE: fields/std-dynamic.xml-->
    <!--@SOURCE: fields/std-gis.xml-->
    <Depth b="decimal"/>
    <Colour/>
    <Lag t="radio">
      <!--@SOURCE: vocabs/boolean.xml-->
    </Lag>
    <Soil_Texture t="checkbox">
      <!--@SOURCE: vocabs/soil-adjective.xml-->
    </Soil_Texture>
    <Geology>
      <!--@SOURCE: vocabs/ology.xml-->
    </Geology>
    <Drainage t="radio">
      <!--@SOURCE: vocabs/boolean.xml-->
    </Drainage>
    <Contamination t="radio">
      <!--@SOURCE: vocabs/boolean.xml-->
    </Contamination>
    <Regolith_Type>
      <opts>
        <opt>Transported Regolith
          <opt>Alluvial sediments
            <opt>Channel deposits</opt>
            <opt>Overbank deposits</opt>
          </opt>
          <opt>Aeolian sediments
            <opt>Aeolian sand</opt>
            <opt>Loess</opt>
            <opt>Parna</opt>
          </opt>
          <opt>Colluvial sediments
            <opt>Mass movement</opt>
            <opt>Sheet flow deposit</opt>
            <opt>Fanglomerate</opt>
          </opt>
          <opt>Evaporite
            <opt>Halite</opt>
            <opt>Gypsum</opt>
          </opt>
          <opt>Lacustrine sediments</opt>
          <opt>Glacial sediments</opt>
          <opt>Volcanic sediments
            <opt>Tephra</opt>
          </opt>
          <opt>Fill</opt>
          <opt>Coastal sediments
            <opt>Beach sediments</opt>
            <opt>Estuarine sediments</opt>
            <opt>Coral</opt>
            <opt>Marine sediments</opt>
          </opt>
        </opt>
        <opt>In-Situ Regolith
          <opt>Weathered bedrock</opt>
          <opt>Residual material</opt>
          <opt>Saprolite
            <opt>Completely weathered bedrock</opt>
            <opt>Very highly weathered bedrock</opt>
            <opt>Highly weathered bedrock</opt>
            <opt>Moderately weathered bedrock</opt>
            <opt>Slightly weathered bedrock</opt>
          </opt>
        </opt>
        <opt>Other</opt>
      </opts>
    </Regolith_Type>
    <Landform>
      <opts>
        <opt>Alluvial Landforms
          <opt>Alluvial Plain</opt>
          <opt>Flood Plain</opt>
          <opt>Anastomatic Plain</opt>
          <opt>Bar Plain</opt>
          <opt>Covered Plain</opt>
          <opt>Meander Plain</opt>
          <opt>Flood Out</opt>
          <opt>Alluvial Terrace</opt>
          <opt>Stagnant Alluvial Plain</opt>
          <opt>Alluvial Swamp</opt>
          <opt>Terraced Land</opt>
        </opt>
        <opt>Dune Field
          <opt>Longitudinal Dunefield</opt>
        </opt>
        <opt>Fan
          <opt>Alluvial Fan</opt>
          <opt>Colluvial Fan</opt>
          <opt>Sheet Flood Fan</opt>
        </opt>
        <opt>Plain
          <opt>Depositional Plain</opt>
          <opt>Lacustrine Plain</opt>
          <opt>Playa Plain</opt>
          <opt>Sandplain</opt>
        </opt>
        <opt>Glacial Landforms
          <opt>Depositional Glacial Landforms</opt>
          <opt>Erosional Glacial Land</opt>
        </opt>
        <opt>Delta</opt>
        <opt>Coastal Lands
          <opt>Beach Ridge Plain</opt>
          <opt>Chenier Plain</opt>
          <opt>Coral Reef</opt>
          <opt>Marine Plain</opt>
          <opt>Tidal Flat</opt>
          <opt>Coastal Dunes</opt>
          <opt>Coastal Plain</opt>
          <opt>Beach</opt>
        </opt>
        <opt>Erosional Landforms
          <opt>Erosional Plain</opt>
          <opt>Pediment</opt>
          <opt>Pediplain</opt>
          <opt>Peneplain</opt>
          <opt>Etchplain</opt>
          <opt>Rises</opt>
          <opt>Residual Rises</opt>
          <opt>Low Hills</opt>
          <opt>Hills</opt>
          <opt>Mountains</opt>
          <opt>Escarpment</opt>
          <opt>Badlands</opt>
          <opt>Drainage Depression</opt>
        </opt>
        <opt>Karst</opt>
        <opt>Plateau</opt>
        <opt>Volcanic Landform
          <opt>Caldera</opt>
          <opt>Cone</opt>
          <opt>Lava Plain</opt>
          <opt>Ash Plain</opt>
          <opt>Lava Flow</opt>
          <opt>Lava Plateau</opt>
        </opt>
        <opt>Made Land</opt>
        <opt>Meteor Crater</opt>
        <opt>Other</opt>
      </opts>
    </Landform>
    <Vegetation/>
    <!--@SOURCE: fields/std-bottom.xml-->
  </Basic_Info>
  <!--@SOURCE: tabs/child-photologs.xml-->
  <!--@SOURCE: tabs/vars.xml-->
</Soil_Sample>

<Rock_Sample>
  <fmt>{{Sample_Prefix_1}}{{Sample_Prefix_2}}{{Rock_Sample_ID}}{{Observation_Type if equal($1, "{Observation_Only}") then " - Observation"}} {{Location_Number if $2 then "- Location $2" else "- Location &lt;empty&gt;" }} - Rock - {{Timestamp}}</fmt>
  <Basic_Info>
    <cols>
      <Sample_Prefix_1 f="readonly" i="Project/Start/Sample_Prefix_1"/>
      <Sample_Prefix_2 f="readonly" i="Project/Start/Sample_Prefix_2"/>
      <Rock_Sample_ID f="autonum readonly"/>
    </cols>
    <!--@SOURCE: fields/std-meta.xml-->
    <Location_Number/>
    <!--@SOURCE: vocabs/observation-type.xml-->
    <Core_ID/>
    <!--@SOURCE: fields/std-gis.xml-->
  </Basic_Info>
  <Measurements>
    <cols>
      <col>
        <Bedding_Strike   b="decimal"/>
        <Cleavage_Strike  b="decimal"/>
        <Foliation_Strike b="decimal"/>
        <Veins_1_Strike   b="decimal"/>
        <Veins_2_Strike   b="decimal"/>
      </col>
      <col>
        <Bedding_Dip   b="decimal"/>
        <Cleavage_Dip  b="decimal"/>
        <Foliation_Dip b="decimal"/>
        <Veins_1_Dip   b="decimal"/>
        <Veins_2_Dip   b="decimal"/>
      </col>
    </cols>
    <Other_Structural_Measurements/>
    <cols>
      <col>
        <Fold_Axis_Plunge            b="decimal"/>
        <Mineral_Lineation_Plunge    b="decimal"/>
        <Stretching_Lineation_Plunge b="decimal"/>
      </col>
      <col>
        <Fold_Axis_Azimuth            b="decimal"/>
        <Mineral_Lineation_Azimuth    b="decimal"/>
        <Stretching_Lineation_Azimuth b="decimal"/>
      </col>
    </cols>
    <Other_Lineation/>
  </Measurements>
  <Lithological_Info>
    <Lithology>
      <!--@SOURCE: vocabs/ology.xml-->
    </Lithology>
    <Inclusion_Size>
      <opts>
        <opt>Fine</opt>
        <opt>Medium</opt>
        <opt>Coarse</opt>
        <opt>Other</opt>
      </opts>
    </Inclusion_Size>
    <Grain_Size>
      <opts>
        <opt>Fine</opt>
        <opt>Medium</opt>
        <opt>Coarse</opt>
        <opt>Other</opt>
      </opts>
    </Grain_Size>
    <Sorting>
      <opts>
        <opt>Poor</opt>
        <opt>Moderate</opt>
        <opt>Well Sorted</opt>
        <opt>Other</opt>
      </opts>
    </Sorting>
    <Other_Lithological_Descriptors/>
    <Stratigraphic_Unit/>
    <Large-Scale_Structure/>
    <Alteration/>
    <Veining/>
    <!--@SOURCE: fields/std-bottom.xml-->
  </Lithological_Info>
  <!--@SOURCE: tabs/child-photologs.xml-->
  <!--@SOURCE: tabs/vars.xml-->
</Rock_Sample>

<pH>
  <fmt>{{pH}} {{timestamp}}</fmt>
  <pH>
    <pH/>
    <Time/>
    <Preferred/>
  </pH>
</pH>

<Eh>
  <fmt>{{Eh}} {{timestamp}}</fmt>
  <Eh>
    <Eh/>
    <Time/>
    <Preferred/>
  </Eh>
</Eh>

<Photolog>
  <fmt>{{Photo_ID}}</fmt>
  <Photolog>
    <Photo_ID f="notnull"/>
    <timestamp/>
    <Photo_Note/>
  </Photolog>
</Photolog>

<Shape>
  <fmt>{{Label}}</fmt>
  <Shape_Note>
    <Label/>
    <Note/>
  </Shape_Note>
</Shape>

<logic><![CDATA[
<!--@SOURCE: logic/map.bsh-->
<!--@SOURCE: logic/shape.bsh-->
<!--@SOURCE: logic/custom-search.bsh-->
<!--@SOURCE: logic/duplicate-checking.bsh-->
<!--@SOURCE: logic/create-new-sample-button.bsh-->
<!--@SOURCE: logic/autonumbering.bsh-->
<!--@SOURCE: logic/project-author.bsh-->
<!--@SOURCE: logic/timestamps.bsh-->
<!--@SOURCE: logic/dynamic-ui.bsh-->
<!--@SOURCE: logic/dynamic-ui-ph-eh.bsh-->
<!--@SOURCE: logic/take-from-gps.bsh-->
]]></logic>

</module>
